# 构建说明

## 问题解决

如果你遇到 `cmake: 无法识别` 的错误，说明CMake没有安装或不在系统PATH中。

## 方法1：使用构建脚本（推荐）

### 步骤1：安装CMake

1. 访问 https://cmake.org/download/
2. 下载 "Windows x64 Installer"
3. 安装时**务必勾选** "Add CMake to system PATH"
4. 安装完成后，**重新打开命令行窗口**

### 步骤2：运行构建脚本

**PowerShell用户：**
```powershell
.\build.ps1
```

**CMD用户：**
```cmd
build.bat
```

脚本会自动：
- 检查CMake是否安装
- 自动查找Qt路径
- 配置和编译项目

## 方法2：手动构建

### 步骤1：安装CMake（同上）

### 步骤2：找到Qt路径

根据你的Qt安装，路径可能是：
- `C:\Qt\Qt5.9.0\5.9\msvc2017_64` （推荐，如果你有VS2017）
- `C:\Qt\Qt5.9.0\5.9\msvc2015_64` （如果你有VS2015）
- `C:\Qt\Qt5.9.0\5.9\msvc2013_64` （如果你有VS2013）

### 步骤3：运行CMake命令

**PowerShell:**
```powershell
mkdir build
cd build
cmake .. -DCMAKE_PREFIX_PATH="C:\Qt\Qt5.9.0\5.9\msvc2017_64"
cmake --build . --config Release
```

**CMD:**
```cmd
mkdir build
cd build
cmake .. -DCMAKE_PREFIX_PATH="C:\Qt\Qt5.9.0\5.9\msvc2017_64"
cmake --build . --config Release
```

**注意：** 将路径替换为你实际的Qt路径和编译器版本。

## 方法3：使用Qt Creator（最简单）

1. 打开Qt Creator
2. 文件 -> 打开文件或项目
3. 选择 `CMakeLists.txt`
4. 配置构建路径（选择你的Qt版本）
5. 点击"构建"按钮

## 常见问题

### Q: CMake找不到Qt

**A:** 确保：
1. Qt路径正确（路径中不能有中文）
2. 使用 `/` 而不是 `\` 作为路径分隔符（在CMake中）
3. 路径用引号括起来

### Q: 编译错误：找不到Qt头文件

**A:** 检查Qt路径是否正确，确保路径下有 `include` 和 `lib` 目录。

### Q: 链接错误

**A:** 确保：
1. 选择了正确的编译器版本（msvc2017_64 需要 Visual Studio 2017）
2. Qt版本与编译器匹配

## 验证安装

运行以下命令验证：

```powershell
# 检查CMake
cmake --version

# 检查Qt（如果设置了环境变量）
qmake --version
```

## 推荐配置

- **CMake**: 3.16 或更高
- **Qt**: 5.9.0 或更高（你已安装）
- **编译器**: Visual Studio 2017/2019/2022（根据你的Qt版本选择）


